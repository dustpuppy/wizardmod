package thewizardmod.runeSlab;



import net.minecraft.client.Minecraft;
import net.minecraft.client.renderer.GlStateManager;
import net.minecraft.client.renderer.OpenGlHelper;
import net.minecraft.client.renderer.Tessellator;
import net.minecraft.client.renderer.VertexBuffer;
import net.minecraft.client.renderer.tileentity.TileEntitySpecialRenderer;
import net.minecraft.client.renderer.vertex.DefaultVertexFormats;
import net.minecraft.util.ResourceLocation;

import org.lwjgl.opengl.GL11;



public class RendererRuneSlab extends TileEntitySpecialRenderer<TileEntityRuneSlab>{

	private static final ResourceLocation texture = new ResourceLocation("thewizardmod:textures/runes/1.png");

	@Override
	public void renderTileEntityAt(TileEntityRuneSlab te, double x, double y, double z, float partialTicks, int destroyStage) {
		super.renderTileEntityAt(te, x, y, z, partialTicks, destroyStage);
		GlStateManager.pushMatrix();
		{

			float PBX = OpenGlHelper.lastBrightnessX;
			float PBY = OpenGlHelper.lastBrightnessX;
			int PBT = OpenGlHelper.lightmapTexUnit;

//			GlStateManager.translate(x, y, z);
			GlStateManager.scale(0.25F, 0.25F, 0.25F);

			Tessellator wrt = Tessellator.getInstance();
			VertexBuffer wr = wrt.getBuffer();
			Minecraft.getMinecraft().getTextureManager().bindTexture(new ResourceLocation("thewizardmod:textures/runes/1.png"));
//			GlStateManager.disableLighting();
			GlStateManager.translate(x, y, z);
			GlStateManager.disableBlend();
//			OpenGlHelper.setLightmapTextureCoords(1, 16.0F, 16.0F);
//			wr.normal(0, 0, 0);
			wr.begin(GL11.GL_TRIANGLES, DefaultVertexFormats.POSITION_TEX_NORMAL);
			wr.pos(-1, 0, 0).tex(0, 0).endVertex();
			wr.pos(-1, -1, 0).tex(0, 1).endVertex();
			wr.pos(0, -1, 0).tex(1, 0).endVertex();
			wr.pos(0, 0, 0).tex(1, 1).endVertex();

			
			wrt.draw();

			GlStateManager.enableBlend();
//			GlStateManager.enableLighting();

		}
		GlStateManager.popMatrix();
	}

}
